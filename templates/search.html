{% extends 'base.html' %}

{% block body %}
    <p>You searched for {{ search }}...</p>

    {% for photo in photos %}
        <li><img src="{{ photos[photo]['url'] }}" width="500" height="600"></li>
        <button id ="{{photo}}" onclick="submit_favorite('{{photo}}')">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path opacity="0.6" d="M7.54041 3.65716L7.99978 4.11447L8.45837 3.65637C9.08325 3.03216 9.94781 2.65 10.8966 2.65C12.8031 2.65 14.35 4.1902 14.35 6.10345C14.35 8.30899 13.2249 10.1004 11.8512 11.4268C10.5027 12.7289 8.92998 13.5671 8 13.8921C7.07014 13.5671 5.4974 12.7272 4.14883 11.4242C2.77504 10.0968 1.65 8.30532 1.65 6.10345C1.65 4.19719 3.19719 2.65 5.10345 2.65C6.05695 2.65 6.9166 3.03614 7.54041 3.65716Z" stroke="black" stroke-width="1.3"/>
            </svg>
        </button>
    {% endfor %}
    <script >
        function submit_favorite(photo_id) {
           // var button = event.target;
           // var element_id = button.id;
           // var index = element_id
            
           // console.log(button)
           // console.log(element_id)
           // console.log(index)
           // console.log(`/submit_favorite/${index}`)
           var index = photo_id
           console.log(photo_id)
           console.log(index)

            fetch(`/submit_favorite/${index}`)
                .then(function(response) {
                    return response.text();
                })
        } 
    </script>
{% endblock %}